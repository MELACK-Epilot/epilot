# ğŸ‡¨ğŸ‡¬ RÃ”LES UTILISATEURS OFFICIELS - E-PILOT CONGO

## ğŸ“‹ Liste ComplÃ¨te et DÃ©finitive

### RÃ´les ImplÃ©mentÃ©s (12 rÃ´les)

| # | RÃ´le | Slug | IcÃ´ne | Description |
|---|------|------|-------|-------------|
| 1 | **Proviseur** | `proviseur` | ğŸ“ | Responsable de l'Ã©tablissement (LycÃ©e) |
| 2 | **Directeur** | `directeur` | ğŸ‘” | Directeur de l'Ã©tablissement (Ã‰cole/CollÃ¨ge) |
| 3 | **Directeur des Ã‰tudes** | `directeur_etudes` | ğŸ“‹ | Responsable pÃ©dagogique et acadÃ©mique |
| 4 | **SecrÃ©taire** | `secretaire` | ğŸ“ | Gestion administrative et secrÃ©tariat |
| 5 | **Comptable** | `comptable` | ğŸ’° | Gestion financiÃ¨re et comptabilitÃ© |
| 6 | **Enseignant** | `enseignant` | ğŸ‘¨â€ğŸ« | Personnel enseignant (toutes matiÃ¨res) |
| 7 | **Surveillant** | `surveillant` | ğŸ‘® | Surveillance et discipline |
| 8 | **BibliothÃ©caire** | `bibliothecaire` | ğŸ“š | Gestion de la bibliothÃ¨que |
| 9 | **Ã‰lÃ¨ve** | `eleve` | ğŸ’ | Ã‰tudiant inscrit |
| 10 | **Parent** | `parent` | ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ | Parent d'Ã©lÃ¨ve |
| 11 | **Gestionnaire de Cantine** | `gestionnaire_cantine` | ğŸ½ï¸ | Gestion de la cantine scolaire |
| 12 | **Autre** | `autre` | ğŸ‘¤ | Autre personnel non catÃ©gorisÃ© |

---

## ğŸ—ï¸ HiÃ©rarchie ComplÃ¨te du SystÃ¨me

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU 1 : PLATEFORME                                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ â€¢ Super Admin E-Pilot                                       â”‚
â”‚   â””â”€ GÃ¨re tous les groupes scolaires                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU 2 : GROUPE SCOLAIRE                                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ â€¢ Administrateur de Groupe                                  â”‚
â”‚   â””â”€ GÃ¨re toutes les Ã©coles de son groupe                   â”‚
â”‚   â””â”€ CrÃ©e et gÃ¨re tous les utilisateurs ci-dessous          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NIVEAU 3 : Ã‰TABLISSEMENT (12 RÃ”LES)                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ ğŸ“ Proviseur              (LycÃ©e)                           â”‚
â”‚ ğŸ‘” Directeur              (Ã‰cole/CollÃ¨ge)                   â”‚
â”‚ ğŸ“‹ Directeur des Ã‰tudes   (PÃ©dagogie)                       â”‚
â”‚ ğŸ“ SecrÃ©taire             (Administration)                  â”‚
â”‚ ğŸ’° Comptable              (Finances)                        â”‚
â”‚ ğŸ‘¨â€ğŸ« Enseignant            (Enseignement)                    â”‚
â”‚ ğŸ‘® Surveillant            (Discipline)                      â”‚
â”‚ ğŸ“š BibliothÃ©caire         (BibliothÃ¨que)                    â”‚
â”‚ ğŸ’ Ã‰lÃ¨ve                  (Ã‰tudiant)                        â”‚
â”‚ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Parent                (Famille)                       â”‚
â”‚ ğŸ½ï¸ Gestionnaire Cantine  (Restauration)                    â”‚
â”‚ ğŸ‘¤ Autre                  (Divers)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Contexte d'Utilisation

### Qui crÃ©e ces utilisateurs ?
**L'Administrateur de Groupe** crÃ©e et gÃ¨re tous ces rÃ´les pour les Ã©coles de son groupe.

### OÃ¹ sont-ils crÃ©Ã©s ?
Dans la page **Utilisateurs** du dashboard Admin de Groupe :
- Menu : `â‹®` â†’ `CrÃ©er un utilisateur`
- Formulaire : `GroupUserFormDialog.tsx`

### Quels modules peuvent-ils recevoir ?
Chaque utilisateur peut se voir assigner des modules via :
- Menu : `â‹®` â†’ `ğŸ“¦ Assigner modules`
- Dialog : `UserModulesDialog.tsx`

---

## ğŸ“Š RÃ©partition Typique dans une Ã‰cole

### Ã‰tablissement Moyen (500 Ã©lÃ¨ves)

| RÃ´le | Nombre Typique | % Total |
|------|----------------|---------|
| Ã‰lÃ¨ve | 500 | 85% |
| Parent | 500 | 85% |
| Enseignant | 30 | 5% |
| Surveillant | 5 | 1% |
| SecrÃ©taire | 2 | 0.3% |
| Comptable | 1 | 0.2% |
| BibliothÃ©caire | 1 | 0.2% |
| Gestionnaire Cantine | 1 | 0.2% |
| Directeur des Ã‰tudes | 1 | 0.2% |
| Directeur/Proviseur | 1 | 0.2% |
| Autre | Variable | Variable |

**Total** : ~1,042 utilisateurs

---

## ğŸ” Permissions par RÃ´le (Recommandations)

### 1. **Proviseur / Directeur** ğŸ“ğŸ‘”
**Modules recommandÃ©s** :
- âœ… Tous les modules (accÃ¨s complet)
- âœ… Permissions : Lecture + Ã‰criture + Suppression + Export

### 2. **Directeur des Ã‰tudes** ğŸ“‹
**Modules recommandÃ©s** :
- âœ… Gestion des Notes
- âœ… Emploi du Temps
- âœ… PrÃ©sence
- âœ… Bulletins
- âœ… Examens
- âœ… Permissions : Lecture + Ã‰criture + Export

### 3. **SecrÃ©taire** ğŸ“
**Modules recommandÃ©s** :
- âœ… Inscriptions
- âœ… Gestion Utilisateurs
- âœ… Documents Administratifs
- âœ… Permissions : Lecture + Ã‰criture

### 4. **Comptable** ğŸ’°
**Modules recommandÃ©s** :
- âœ… Finances
- âœ… Paiements
- âœ… Factures
- âœ… ComptabilitÃ©
- âœ… Permissions : Lecture + Ã‰criture + Export

### 5. **Enseignant** ğŸ‘¨â€ğŸ«
**Modules recommandÃ©s** :
- âœ… Gestion des Notes
- âœ… PrÃ©sence
- âœ… Emploi du Temps (lecture seule)
- âœ… Cahier de Texte
- âœ… Permissions : Lecture + Ã‰criture (limitÃ© Ã  ses classes)

### 6. **Surveillant** ğŸ‘®
**Modules recommandÃ©s** :
- âœ… PrÃ©sence
- âœ… Discipline
- âœ… Vie Scolaire
- âœ… Permissions : Lecture + Ã‰criture

### 7. **BibliothÃ©caire** ğŸ“š
**Modules recommandÃ©s** :
- âœ… Gestion BibliothÃ¨que
- âœ… PrÃªts de Livres
- âœ… Inventaire
- âœ… Permissions : Lecture + Ã‰criture

### 8. **Ã‰lÃ¨ve** ğŸ’
**Modules recommandÃ©s** :
- âœ… Mes Notes (lecture seule)
- âœ… Mon Emploi du Temps (lecture seule)
- âœ… Mes Bulletins (lecture seule)
- âœ… BibliothÃ¨que (consultation)
- âœ… Permissions : Lecture uniquement

### 9. **Parent** ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦
**Modules recommandÃ©s** :
- âœ… Notes de mon enfant (lecture seule)
- âœ… Emploi du Temps (lecture seule)
- âœ… Bulletins (lecture seule)
- âœ… Finances (paiements)
- âœ… Permissions : Lecture + Paiement

### 10. **Gestionnaire de Cantine** ğŸ½ï¸
**Modules recommandÃ©s** :
- âœ… Gestion Cantine
- âœ… Menus
- âœ… Inscriptions Cantine
- âœ… Permissions : Lecture + Ã‰criture

### 11. **Autre** ğŸ‘¤
**Modules recommandÃ©s** :
- âœ… Ã€ dÃ©finir selon le besoin
- âœ… Permissions : Variables

---

## ğŸ’» ImplÃ©mentation Technique

### Fichier Principal
```typescript
// src/features/dashboard/components/users/GroupUserFormDialog.tsx

const USER_ROLES = [
  { value: 'proviseur', label: 'ğŸ“ Proviseur' },
  { value: 'directeur', label: 'ğŸ‘” Directeur' },
  { value: 'directeur_etudes', label: 'ğŸ“‹ Directeur des Ã‰tudes' },
  { value: 'secretaire', label: 'ğŸ“ SecrÃ©taire' },
  { value: 'comptable', label: 'ğŸ’° Comptable' },
  { value: 'enseignant', label: 'ğŸ‘¨â€ğŸ« Enseignant' },
  { value: 'surveillant', label: 'ğŸ‘® Surveillant' },
  { value: 'bibliothecaire', label: 'ğŸ“š BibliothÃ©caire' },
  { value: 'eleve', label: 'ğŸ’ Ã‰lÃ¨ve' },
  { value: 'parent', label: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Parent' },
  { value: 'gestionnaire_cantine', label: 'ğŸ½ï¸ Gestionnaire de Cantine' },
  { value: 'autre', label: 'ğŸ‘¤ Autre' },
] as const;
```

### Validation Zod
```typescript
role: z.enum([
  'proviseur',
  'directeur',
  'directeur_etudes',
  'secretaire',
  'comptable',
  'enseignant',
  'surveillant',
  'bibliothecaire',
  'eleve',
  'parent',
  'gestionnaire_cantine',
  'autre',
], {
  errorMap: () => ({ message: 'Veuillez sÃ©lectionner un rÃ´le' }),
}),
```

### Base de DonnÃ©es
```sql
-- Table users
CREATE TYPE user_role AS ENUM (
  'super_admin',
  'admin_groupe',
  'proviseur',
  'directeur',
  'directeur_etudes',
  'secretaire',
  'comptable',
  'enseignant',
  'surveillant',
  'bibliothecaire',
  'eleve',
  'parent',
  'gestionnaire_cantine',
  'autre'
);
```

---

## ğŸ¨ Interface Utilisateur

### Dropdown de SÃ©lection
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RÃ´le *                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ SÃ©lectionner un rÃ´le         â–¼ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ Options :                           â”‚
â”‚ ğŸ“ Proviseur                        â”‚
â”‚ ğŸ‘” Directeur                        â”‚
â”‚ ğŸ“‹ Directeur des Ã‰tudes             â”‚
â”‚ ğŸ“ SecrÃ©taire                       â”‚
â”‚ ğŸ’° Comptable                        â”‚
â”‚ ğŸ‘¨â€ğŸ« Enseignant                      â”‚
â”‚ ğŸ‘® Surveillant                      â”‚
â”‚ ğŸ“š BibliothÃ©caire                   â”‚
â”‚ ğŸ’ Ã‰lÃ¨ve                            â”‚
â”‚ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Parent                         â”‚
â”‚ ğŸ½ï¸ Gestionnaire de Cantine         â”‚
â”‚ ğŸ‘¤ Autre                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Statistiques RecommandÃ©es

### Dashboard Admin de Groupe
```typescript
const stats = {
  totalUsers: 1042,
  byRole: {
    eleve: 500,
    parent: 500,
    enseignant: 30,
    surveillant: 5,
    secretaire: 2,
    comptable: 1,
    bibliothecaire: 1,
    gestionnaire_cantine: 1,
    directeur_etudes: 1,
    directeur: 1,
    autre: 0,
  },
  activeUsers: 987,
  inactiveUsers: 55,
};
```

---

## âœ… Checklist de Validation

### Formulaire de CrÃ©ation
- [x] 12 rÃ´les disponibles dans le dropdown
- [x] IcÃ´nes emoji pour chaque rÃ´le
- [x] Labels en franÃ§ais
- [x] Validation Zod stricte
- [x] SÃ©lection d'Ã©cole obligatoire
- [x] Champs : prÃ©nom, nom, email, tÃ©lÃ©phone, rÃ´le, Ã©cole

### Affectation de Modules
- [x] Tous les rÃ´les peuvent recevoir des modules
- [x] Permissions granulaires (4 niveaux)
- [x] Isolation par utilisateur (RLS)
- [x] Audit trail complet

### Base de DonnÃ©es
- [x] Enum `user_role` avec les 12 rÃ´les
- [x] Colonne `role` dans la table `users`
- [x] Index sur la colonne `role`
- [x] RLS configurÃ©

---

## ğŸ¯ Cas d'Usage Typiques

### ScÃ©nario 1 : CrÃ©ation d'un Enseignant
```
1. Admin de Groupe se connecte
2. Va sur "Utilisateurs"
3. Clique "CrÃ©er un utilisateur"
4. Remplit le formulaire :
   - PrÃ©nom : Jean
   - Nom : Dupont
   - Email : jean.dupont@ecole.cg
   - TÃ©lÃ©phone : +242069698620
   - RÃ´le : ğŸ‘¨â€ğŸ« Enseignant
   - Ã‰cole : LycÃ©e Victor Hugo
5. Clique "CrÃ©er l'utilisateur"
6. âœ… Enseignant crÃ©Ã© avec succÃ¨s
```

### ScÃ©nario 2 : Affectation de Modules Ã  un Enseignant
```
1. Admin clique sur â‹® (menu) de l'enseignant
2. Clique "ğŸ“¦ Assigner modules"
3. SÃ©lectionne :
   - Gestion des Notes âœ“
   - PrÃ©sence âœ“
   - Cahier de Texte âœ“
4. DÃ©finit permissions :
   - Lecture âœ…
   - Ã‰criture âœ…
   - Suppression âŒ
   - Export âœ…
5. Clique "Assigner 3 modules"
6. âœ… Modules assignÃ©s avec succÃ¨s
```

---

## ğŸ† ConformitÃ©

### SystÃ¨me Ã‰ducatif Congolais
âœ… **RÃ´les conformes** au systÃ¨me Ã©ducatif de la RÃ©publique du Congo
âœ… **Terminologie officielle** (Proviseur, Directeur, etc.)
âœ… **HiÃ©rarchie respectÃ©e** (Proviseur > Directeur des Ã‰tudes > Enseignant)
âœ… **Tous les acteurs** de l'Ã©cosystÃ¨me scolaire reprÃ©sentÃ©s

### Best Practices
âœ… **Validation stricte** (Zod)
âœ… **SÃ©curitÃ©** (RLS + audit trail)
âœ… **UX moderne** (icÃ´nes + labels clairs)
âœ… **Scalable** (supporte des milliers d'utilisateurs)

---

## ğŸ“ Support

Pour toute question sur les rÃ´les :
1. Consulter ce document
2. Voir `GroupUserFormDialog.tsx`
3. Tester dans l'interface Admin de Groupe

---

## ğŸ‰ RÃ©sumÃ©

**12 rÃ´les officiels implÃ©mentÃ©s** pour couvrir tous les besoins du systÃ¨me Ã©ducatif congolais :

1. ğŸ“ Proviseur
2. ğŸ‘” Directeur
3. ğŸ“‹ Directeur des Ã‰tudes
4. ğŸ“ SecrÃ©taire
5. ğŸ’° Comptable
6. ğŸ‘¨â€ğŸ« Enseignant
7. ğŸ‘® Surveillant
8. ğŸ“š BibliothÃ©caire
9. ğŸ’ Ã‰lÃ¨ve
10. ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Parent
11. ğŸ½ï¸ Gestionnaire de Cantine
12. ğŸ‘¤ Autre

**SystÃ¨me complet, conforme et prÃªt pour la production !** ğŸš€ğŸ‡¨ğŸ‡¬
